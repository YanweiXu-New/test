<?xml version="1.0" encoding="gb2312"?>
<!DOCTYPE workflow PUBLIC "-//Apexsoft LiveBos//DTD Workflow 2.8//EN" "http://www.livebos.com/workflow/workflow_2_8_abs.dtd"><workflow>
  <meta name="Designer">Studio</meta>
  <meta name="workflow.category">固收类-发行前</meta>
  <meta name="created">2017-07-28 14:34:57</meta>
  <meta name="modify">2018-01-31 20:09:58</meta>
  <meta name="Describe">奖金申请流程</meta>
  <meta name="WorkflowName">wfIB_GS_FXQJJSP</meta>
  <meta name="WorkflowType">2</meta>
  <meta name="version"></meta>
  <object  name="lcIB_GS_FXQJJSP" editAttribute="0" >
  </object>
  <initial-actions>
    <action id="0" name="开始">
      <meta name="NodeType">0</meta>
      <results>
        <unconditional-result id="2" old-status="完成" status="待处理" step="5">
        </unconditional-result>
      </results>
    </action>
  </initial-actions>
  <steps>
    <step id="1" name="结束">
      <meta name="finish">true</meta>
      <meta name="NodeType">1</meta>
    </step>
    <step id="5" name="提交审批">
      <meta name="NodeType">2</meta>
      <object  name="lcIB_GS_FXQJJSP" editAttribute="0" >
        <columns>
          <column  name="ID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="InstID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="ZDWCBZ" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="SQR" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQBM" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQSJ" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBH" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBT" disabled="false" hidden="false" summary="false">
          </column>
          <column  name="GWZW" disabled="false" hidden="false" summary="false">
          </column>
          <column  name="LDSP" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="XMXX" disabled="false" hidden="false" summary="false">
            <object  name="lcIB_GS_FXQJJSP_XMXX" editAttribute="48" >
              <columns>
                <column  name="ID" disabled="false" hidden="true" summary="false">
                </column>
                <column  name="XMMC" disabled="false" hidden="false" summary="false">
                </column>
                <column  name="XMZSR" disabled="false" hidden="false" summary="false">
                </column>
                <column  name="YSXSR" disabled="false" hidden="false" summary="false">
                </column>
                <column  name="KSHSJSR" disabled="false" hidden="false" summary="false">
                </column>
                <column  name="SFYCWGWFZC" disabled="false" hidden="false" summary="false">
                </column>
                <column  name="CWGWFZCJE" disabled="false" hidden="false" summary="false">
                </column>
                <column  name="DGSFYJ" disabled="false" hidden="false" summary="false">
                </column>
              </columns>
            </object>
          </column>
          <column  name="FJ" disabled="false" hidden="false" summary="false">
            <object  name="lcIB_GS_FXQJJSP_FJ" editAttribute="48" >
              <columns>
                <column  name="ID" disabled="false" hidden="true" summary="false">
                </column>
                <column  name="TJSX" disabled="false" hidden="true" summary="false">
                </column>
                <column  name="FJLX" disabled="true" hidden="false" summary="false">
                </column>
                <column  name="FJM" disabled="false" hidden="false" summary="false">
                </column>
                <column  name="WDMC" disabled="false" hidden="true" summary="false">
                </column>
                <column  name="SCZ" disabled="false" hidden="true" summary="false">
                </column>
                <column  name="SCSJ" disabled="false" hidden="true" summary="false">
                </column>
                <column  name="SF360XS" disabled="false" hidden="true" summary="false">
                </column>
              </columns>
            </object>
          </column>
          <column  name="XMMC" disabled="false" hidden="false" summary="false">
          </column>
          <column  name="LCWCRQ" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="JJXX" disabled="false" hidden="false" summary="false">
            <object  name="lcIB_GS_FXQJJSP_JJXX" editAttribute="48" >
              <columns>
                <column  name="ID" disabled="false" hidden="true" summary="false">
                </column>
                <column  name="XMMC" disabled="false" hidden="false" summary="false">
                </column>
                <column  name="JJXZ" disabled="false" hidden="false" summary="false">
                </column>
                <column  name="BCSQJJJE" disabled="false" hidden="false" summary="false">
                </column>
                <column  name="JJTQR" disabled="false" hidden="false" summary="false">
                </column>
              </columns>
            </object>
          </column>
          <column  name="OASPXX" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OLDBH" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="XMLX_EJ" disabled="false" hidden="true" summary="false">
          </column>
        </columns>
      </object>
      <notify >
      </notify>
      <actions>
        <action id="6" name="提交">
          <meta name="IconCls">default</meta>
          <meta name="NodeType">5</meta>
          <meta name="allow.recover">true</meta>
          <pre-functions>
            <function id="0" name="abs.ExecSQL" type="class">
              <arg name="SQL">[&quot;call ecif.PRO_IB_GSLCHCL(?,?,{0},'lcIB_GS_FXQJJSP',{1},{2})&quot;,[{&quot;expression&quot;:&quot;O_WORKFLOW.ID&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;O_WORKFLOW.XMMC&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;$Login.User&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;}]]</arg>
              <arg name="class.name">com.apex.workflow.ExecSqlFunction</arg>
              <arg name="datasource">ECIF</arg>
            </function>
          </pre-functions>
          <results>
            <result id="60" old-status="完成" status="待处理" step="9" display-name="业务部门发起">
              <conditions>
                <condition id="0" name="abs.FormExpOfStepCondition" type="class">
                  <arg name="expression">&lt;%@ livebos language='javascript' %&gt;
var key;
key=ABS_SQLVALUE(&quot;SELECT COUNT(1) FROM JGCRM.LBORGANIZATION WHERE ID =? CONNECT BY PRIOR ID = FID START WITH ID = 10016&quot;,[$Login.User.OrgID]);
key==0</arg>
                  <arg name="class.name">com.apex.workflow.FormExpOfStepCondition</arg>
                  <arg name="Table">lcIB_GS_FXQJJSP</arg>
                </condition>
              </conditions>
            </result>
            <unconditional-result id="59" old-status="完成" status="待处理" step="21" display-name="固收部门发起">
            </unconditional-result>
          </results>
        </action>
        <action id="1002" name="提交总经理审批">
          <meta name="NodeType">5</meta>
          <meta name="allow.recover">true</meta>
          <restrict-to>
            <conditions>
              <condition id="0" name="abs.FormExpOfStepCondition" type="class">
                <arg name="expression">&lt;%@ livebos language='javascript' %&gt;
key=ABS_SQLVALUE(&quot;SELECT COUNT(1) FROM JGCRM.LBORGANIZATION WHERE ID =? CONNECT BY PRIOR ID = FID START WITH ID = 10016&quot;,[$Login.User.OrgID]);
key==1</arg>
                <arg name="class.name">com.apex.workflow.FormExpOfStepCondition</arg>
                <arg name="Table">lcIB_GS_FXQJJSP</arg>
              </condition>
            </conditions>
          </restrict-to>
          <pre-functions>
            <function id="0" name="abs.ExecSQL" type="class">
              <arg name="SQL">[&quot;call ecif.PRO_IB_GSLCHCL(?,?,{0},'lcIB_GS_FXQJJSP',{1},{2})&quot;,[{&quot;expression&quot;:&quot;O_WORKFLOW.ID&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;O_WORKFLOW.XMMC&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;$Login.User&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;}]]</arg>
              <arg name="class.name">com.apex.workflow.ExecSqlFunction</arg>
              <arg name="datasource">ECIF</arg>
            </function>
          </pre-functions>
          <results>
            <unconditional-result id="1003" old-status="完成" status="待处理" step="19">
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="9" name="部门文管审核">
      <meta name="step.allow.approve.sign">true</meta>
      <meta name="step.reject.mode">prev</meta>
      <meta name="step.approve.sign.action.name">会签</meta>
      <meta name="NodeType">16</meta>
      <meta name="approve.sign.modes">endorsesign</meta>
      <meta name="step.allow.reassign">true</meta>
      <meta name="step.allow.reject">true</meta>
      <meta name="approve.mode">true</meta>
      <object  name="lcIB_GS_FXQJJSP" editAttribute="0" >
        <columns>
          <column  name="ID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="InstID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="ZDWCBZ" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="SQR" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQBM" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQSJ" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBH" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBT" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="GWZW" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LDSP" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="XMXX" disabled="true" hidden="false" summary="false">
            <object  name="lcIB_GS_FXQJJSP_XMXX" editAttribute="0" >
              <columns>
                <column  name="ID" disabled="false" hidden="true" summary="false">
                </column>
                <column  name="XMMC" disabled="true" hidden="false" summary="false">
                </column>
                <column  name="XMZSR" disabled="true" hidden="false" summary="false">
                </column>
                <column  name="YSXSR" disabled="true" hidden="false" summary="false">
                </column>
                <column  name="KSHSJSR" disabled="true" hidden="false" summary="false">
                </column>
                <column  name="SFYCWGWFZC" disabled="true" hidden="false" summary="false">
                </column>
                <column  name="CWGWFZCJE" disabled="true" hidden="false" summary="false">
                </column>
                <column  name="DGSFYJ" disabled="true" hidden="false" summary="false">
                </column>
              </columns>
            </object>
          </column>
          <column  name="XMMC" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCWCRQ" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="JJXX" disabled="true" hidden="false" summary="false">
            <object  name="lcIB_GS_FXQJJSP_JJXX" editAttribute="0" >
              <columns>
                <column  name="ID" disabled="false" hidden="true" summary="false">
                </column>
                <column  name="XMMC" disabled="true" hidden="false" summary="false">
                </column>
                <column  name="JJXZ" disabled="true" hidden="false" summary="false">
                </column>
                <column  name="BCSQJJJE" disabled="true" hidden="false" summary="false">
                </column>
                <column  name="JJTQR" disabled="true" hidden="false" summary="false">
                </column>
              </columns>
            </object>
          </column>
          <column  name="OASPXX" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OLDBH" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="XMLX_EJ" disabled="false" hidden="true" summary="false">
          </column>
        </columns>
      </object>
      <dynOwners>
        <dynOwner  type="1" describe="部门文管" >
          <expression><![CDATA[
{"name":"DW_BMWG","parameters":{"pBM":"O_WORKFLOW.SQBM"}}]]></expression>
          </dynOwner>
              </dynOwners>
      <notify >
      </notify>
      <actions>
        <action id="10" name="提交职能审批">
          <meta name="NodeType">17</meta>
          <meta name="approve.action">true</meta>
          <pre-functions>
            <function id="0" name="abs.ExecSQL" type="class">
              <arg name="SQL">[&quot;call ecif.PRO_IB_GSLCHCL(?,?,{0},'lcIB_GS_FXQJJSP',{1},{2})&quot;,[{&quot;expression&quot;:&quot;O_WORKFLOW.ID&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;O_WORKFLOW.XMMC&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;$Login.User&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;}]]</arg>
              <arg name="class.name">com.apex.workflow.ExecSqlFunction</arg>
              <arg name="datasource">ECIF</arg>
            </function>
          </pre-functions>
          <results>
            <unconditional-result id="24" old-status="完成" status="待处理" step="11">
            </unconditional-result>
          </results>
        </action>
        <action id="1000" name="提交总经理审批">
          <meta name="NodeType">17</meta>
          <meta name="approve.action">true</meta>
          <pre-functions>
            <function id="0" name="abs.ExecSQL" type="class">
              <arg name="SQL">[&quot;call ecif.PRO_IB_GSLCHCL(?,?,{0},'lcIB_GS_FXQJJSP',{1},{2})&quot;,[{&quot;expression&quot;:&quot;O_WORKFLOW.ID&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;O_WORKFLOW.XMMC&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;$Login.User&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;}]]</arg>
              <arg name="class.name">com.apex.workflow.ExecSqlFunction</arg>
              <arg name="datasource">ECIF</arg>
            </function>
          </pre-functions>
          <results>
            <unconditional-result id="1001" old-status="完成" status="待处理" step="13">
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="11" name="部门职能审批" owner="$D{Designate}">
      <meta name="step.allow.approve.sign">true</meta>
      <meta name="step.reject.mode">any</meta>
      <meta name="step.approve.sign.action.name">会签</meta>
      <meta name="NodeType">16</meta>
      <meta name="approve.sign.modes">endorsesign</meta>
      <meta name="step.allow.reassign">true</meta>
      <meta name="step.allow.reject">true</meta>
      <meta name="approve.mode">true</meta>
      <object  name="lcIB_GS_FXQJJSP" editAttribute="0" >
        <columns>
          <column  name="ID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="InstID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="SQR" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQBM" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQSJ" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBH" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBT" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="GWZW" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LDSP" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="XMMC" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OASPXX" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OLDBH" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="XMLX_EJ" disabled="false" hidden="true" summary="false">
          </column>
        </columns>
      </object>
      <dynOwners>
        <dynOwner  type="1" describe="部门职能(经理)" >
          <expression><![CDATA[
{"name":"DW_BMZN","parameters":{"pBM":"O_WORKFLOW.SQBM"}}]]></expression>
          </dynOwner>
              </dynOwners>
      <notify >
      </notify>
      <actions>
        <action id="12" name="审批通过">
          <meta name="NodeType">17</meta>
          <meta name="approve.action">true</meta>
          <pre-functions>
            <function id="0" name="abs.ExecSQL" type="class">
              <arg name="SQL">[&quot;call ecif.PRO_IB_GSLCHCL(?,?,{0},'lcIB_GS_FXQJJSP',{1},{2})&quot;,[{&quot;expression&quot;:&quot;O_WORKFLOW.ID&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;O_WORKFLOW.XMMC&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;$Login.User&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;}]]</arg>
              <arg name="class.name">com.apex.workflow.ExecSqlFunction</arg>
              <arg name="datasource">ECIF</arg>
            </function>
          </pre-functions>
          <results>
            <unconditional-result id="25" old-status="完成" status="待处理" step="13">
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="13" name="部门总经理审批">
      <meta name="step.allow.approve.sign">true</meta>
      <meta name="step.reject.mode">any</meta>
      <meta name="step.approve.sign.action.name">会签</meta>
      <meta name="NodeType">16</meta>
      <meta name="approve.sign.modes">endorsesign</meta>
      <meta name="step.allow.reassign">true</meta>
      <meta name="step.allow.reject">true</meta>
      <meta name="approve.mode">true</meta>
      <object  name="lcIB_GS_FXQJJSP" editAttribute="0" >
        <columns>
          <column  name="ID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="InstID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="SQR" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQBM" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQSJ" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBH" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBT" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="GWZW" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LDSP" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="XMMC" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OASPXX" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OLDBH" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="XMLX_EJ" disabled="false" hidden="true" summary="false">
          </column>
        </columns>
      </object>
      <dynOwners>
        <dynOwner  type="1" describe="部门总经理" >
          <expression><![CDATA[
{"name":"DW_BMZJL","parameters":{"pBM":"O_WORKFLOW.SQBM"}}]]></expression>
          </dynOwner>
              </dynOwners>
      <notify >
      </notify>
      <actions>
        <action id="14" name="审批通过">
          <meta name="NodeType">17</meta>
          <meta name="approve.action">true</meta>
          <pre-functions>
            <function id="0" name="abs.ExecSQL" type="class">
              <arg name="SQL">[&quot;call ecif.PRO_IB_GSLCHCL(?,?,{0},'lcIB_GS_FXQJJSP',{1},{2})&quot;,[{&quot;expression&quot;:&quot;O_WORKFLOW.ID&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;O_WORKFLOW.XMMC&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;$Login.User&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;}]]</arg>
              <arg name="class.name">com.apex.workflow.ExecSqlFunction</arg>
              <arg name="datasource">ECIF</arg>
            </function>
          </pre-functions>
          <results>
            <unconditional-result id="26" old-status="完成" status="待处理" step="15">
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="15" name="固收文管审核">
      <meta name="step.allow.approve.sign">true</meta>
      <meta name="step.reject.mode">any</meta>
      <meta name="step.approve.sign.action.name">会签</meta>
      <meta name="NodeType">16</meta>
      <meta name="approve.sign.modes">endorsesign</meta>
      <meta name="step.allow.reassign">true</meta>
      <meta name="step.allow.reject">true</meta>
      <meta name="approve.mode">true</meta>
      <object  name="lcIB_GS_FXQJJSP" editAttribute="0" >
        <columns>
          <column  name="ID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="InstID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="SQR" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQBM" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQSJ" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBH" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBT" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="GWZW" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LDSP" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="XMMC" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OASPXX" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OLDBH" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="XMLX_EJ" disabled="false" hidden="true" summary="false">
          </column>
        </columns>
      </object>
      <dynOwners>
        <dynOwner  type="1" describe="固收_部门文管" >
          <expression><![CDATA[
{"name":"DW_GS_BMWG","parameters":{}}]]></expression>
          </dynOwner>
              </dynOwners>
      <notify >
      </notify>
      <actions>
        <action id="16" name="审批通过">
          <meta name="NodeType">17</meta>
          <meta name="approve.action">true</meta>
          <pre-functions>
            <function id="0" name="abs.ExecSQL" type="class">
              <arg name="SQL">[&quot;call ecif.PRO_IB_GSLCHCL(?,?,{0},'lcIB_GS_FXQJJSP',{1},{2})&quot;,[{&quot;expression&quot;:&quot;O_WORKFLOW.ID&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;O_WORKFLOW.XMMC&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;$Login.User&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;}]]</arg>
              <arg name="class.name">com.apex.workflow.ExecSqlFunction</arg>
              <arg name="datasource">ECIF</arg>
            </function>
          </pre-functions>
          <results>
            <unconditional-result id="78" old-status="完成" status="待处理" step="19">
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="19" name="固收总经理审批">
      <meta name="step.reject.mode">any</meta>
      <meta name="step.allow.approve.sign">true</meta>
      <meta name="step.approve.sign.action.name">会签</meta>
      <meta name="NodeType">16</meta>
      <meta name="approve.sign.modes">endorsesign</meta>
      <meta name="step.allow.reassign">true</meta>
      <meta name="step.allow.reject">true</meta>
      <meta name="approve.mode">true</meta>
      <object  name="lcIB_GS_FXQJJSP" editAttribute="0" >
        <columns>
          <column  name="ID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="InstID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="SQR" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQBM" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQSJ" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBH" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBT" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="GWZW" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LDSP" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="XMMC" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OASPXX" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OLDBH" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="XMLX_EJ" disabled="false" hidden="true" summary="false">
          </column>
        </columns>
      </object>
      <dynOwners>
        <dynOwner  type="1" describe="固收_部门总经理" >
          <expression><![CDATA[
{"name":"DW_GS_BMZJL","parameters":{}}]]></expression>
          </dynOwner>
              </dynOwners>
      <notify >
      </notify>
      <actions>
        <action id="20" name="审批通过">
          <meta name="NodeType">17</meta>
          <meta name="approve.action">true</meta>
          <pre-functions>
            <function id="0" name="abs.ExecSQL" type="class">
              <arg name="SQL">[&quot;call ecif.PRO_IB_GSLCHCL(?,?,{0},'lcIB_GS_FXQJJSP',{1},{2})&quot;,[{&quot;expression&quot;:&quot;O_WORKFLOW.ID&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;O_WORKFLOW.XMMC&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;$Login.User&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;}]]</arg>
              <arg name="class.name">com.apex.workflow.ExecSqlFunction</arg>
              <arg name="datasource">ECIF</arg>
            </function>
          </pre-functions>
          <results>
            <unconditional-result id="76" old-status="完成" status="待处理" step="39">
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="21" name="团队负责人审批" owner="$D{RTS}">
      <meta name="step.allow.approve.sign">true</meta>
      <meta name="step.reject.mode">any</meta>
      <meta name="step.approve.sign.action.name">会签</meta>
      <meta name="NodeType">16</meta>
      <meta name="approve.sign.modes">endorsesign</meta>
      <meta name="step.allow.reassign">true</meta>
      <meta name="step.allow.reject">true</meta>
      <meta name="approve.mode">true</meta>
      <object  name="lcIB_GS_FXQJJSP" editAttribute="0" >
        <columns>
          <column  name="ID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="InstID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="SQR" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQBM" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQSJ" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBH" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBT" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="GWZW" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LDSP" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="XMMC" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OASPXX" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OLDBH" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="XMLX_EJ" disabled="false" hidden="true" summary="false">
          </column>
        </columns>
      </object>
      <dynOwners>
        <dynOwner  type="0" describe="条件筛选" >
          <expression><![CDATA[





["tUser.Status=1",[]]]]></expression>
          </dynOwner>
              </dynOwners>
      <notify >
      </notify>
      <actions>
        <action id="22" name="审批通过">
          <meta name="NodeType">17</meta>
          <meta name="approve.action">true</meta>
          <pre-functions>
            <function id="0" name="abs.ExecSQL" type="class">
              <arg name="SQL">[&quot;call ecif.PRO_IB_GSLCHCL(?,?,{0},'lcIB_GS_FXQJJSP',{1},{2})&quot;,[{&quot;expression&quot;:&quot;O_WORKFLOW.ID&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;O_WORKFLOW.XMMC&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;$Login.User&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;}]]</arg>
              <arg name="class.name">com.apex.workflow.ExecSqlFunction</arg>
              <arg name="datasource">ECIF</arg>
            </function>
          </pre-functions>
          <results>
            <unconditional-result id="77" old-status="完成" status="待处理" step="19">
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="39" name="投行质控总部总经理审批">
      <meta name="step.allow.approve.sign">true</meta>
      <meta name="step.reject.mode">any</meta>
      <meta name="step.approve.sign.action.name">会签</meta>
      <meta name="NodeType">16</meta>
      <meta name="approve.sign.modes">endorsesign</meta>
      <meta name="step.allow.reassign">true</meta>
      <meta name="step.allow.reject">true</meta>
      <meta name="approve.mode">true</meta>
      <object  name="lcIB_GS_FXQJJSP" editAttribute="0" >
        <columns>
          <column  name="ID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="InstID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="SQR" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQBM" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQSJ" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBH" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBT" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="GWZW" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LDSP" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="XMMC" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OASPXX" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OLDBH" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="XMLX_EJ" disabled="false" hidden="true" summary="false">
          </column>
        </columns>
      </object>
      <dynOwners>
        <dynOwner  type="1" describe="投行_质控总部总经理" >
          <expression><![CDATA[
{"name":"DW_TH_ZKZBZJL","parameters":{}}]]></expression>
          </dynOwner>
              </dynOwners>
      <notify >
      </notify>
      <actions>
        <action id="40" name="审批通过">
          <meta name="NodeType">17</meta>
          <meta name="approve.action">true</meta>
          <meta name="allow.recover">true</meta>
          <pre-functions>
            <function id="0" name="abs.ExecSQL" type="class">
              <arg name="SQL">[&quot;call ecif.PRO_IB_GSLCHCL(?,?,{0},'lcIB_GS_FXQJJSP',{1},{2})&quot;,[{&quot;expression&quot;:&quot;O_WORKFLOW.ID&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;O_WORKFLOW.XMMC&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;$Login.User&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;}]]</arg>
              <arg name="class.name">com.apex.workflow.ExecSqlFunction</arg>
              <arg name="datasource">ECIF</arg>
            </function>
          </pre-functions>
          <results>
            <unconditional-result id="50" old-status="完成" status="待处理" step="41">
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="41" name="投行质控总部文管员">
      <meta name="step.allow.approve.sign">true</meta>
      <meta name="step.reject.mode">any</meta>
      <meta name="step.approve.sign.action.name">会签</meta>
      <meta name="NodeType">16</meta>
      <meta name="approve.sign.modes">endorsesign</meta>
      <meta name="step.allow.reassign">true</meta>
      <meta name="step.allow.reject">true</meta>
      <meta name="approve.mode">true</meta>
      <object  name="lcIB_GS_FXQJJSP" editAttribute="0" >
        <columns>
          <column  name="ID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="InstID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="SQR" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQBM" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQSJ" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBH" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBT" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="GWZW" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LDSP" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="XMMC" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OASPXX" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OLDBH" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="XMLX_EJ" disabled="false" hidden="true" summary="false">
          </column>
        </columns>
      </object>
      <dynOwners>
        <dynOwner  type="1" describe="投行_质控总部文管员" >
          <expression><![CDATA[
{"name":"DW_TH_ZKZBWGY","parameters":{}}]]></expression>
          </dynOwner>
              </dynOwners>
      <notify >
      </notify>
      <actions>
        <action id="42" name="发起协同平台  ">
          <meta name="NodeType">17</meta>
          <meta name="approve.action">true</meta>
          <pre-functions>
            <function id="0" name="abs.Expression" type="null">
              <arg name="expression">&lt;%@ livebos language='javascript' %&gt;
var a=ABS_LOADBEAN(&quot;com.apex.bss.mod.gdzqWorkflowWebservice.workflowSamples.InternalDocumentsJavabean&quot;);
var oaid=a.creatWorkFlow(&quot;lcIB_GS_FXQJJSP&quot;,O_WORKFLOW.ID,O_WORKFLOW.XMMC.ID,$Login.User,'120000');
var ret = LB_sqlProcedure(&quot;{call ecif.pro_ib_oaresulthandle(:ral{int},:ret,?,?,?,?)}&quot;,[oaid,O_WORKFLOW.ID,&quot;lcIB_GS_FXQJJSP&quot;,$Login.User]); 
ABS_SETRETNOTE(ret.get('ret'));
if(ret.get('ral')&gt;0){
	true;
}else{
	false;
}</arg>
              <arg name="class.name"> com.apex.livebos.workflow.ExecExpressionFunction</arg>
            </function>
            <function id="0" name="abs.ExecSQL" type="class">
              <arg name="SQL">[&quot;call ecif.PRO_IB_SENDWFNOTIFY(?,?,{0},{1},1)&quot;,[{&quot;expression&quot;:&quot;O_WORKFLOW.InstID&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;O_WORKFLOW.XMMC.XMMC.QTCY&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;0&quot;}]]</arg>
              <arg name="class.name">com.apex.workflow.ExecSqlFunction</arg>
            </function>
          </pre-functions>
          <results>
            <unconditional-result id="51" old-status="完成" status="待处理" step="44">
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
    <step id="44" name="等待OA审批结果">
      <meta name="NodeType">2</meta>
      <object  name="lcIB_GS_FXQJJSP" editAttribute="0" >
        <columns>
          <column  name="ID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="InstID" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="SQR" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQBM" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="SQSJ" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBH" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LCBT" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="GWZW" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="LDSP" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="XMMC" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OASPXX" disabled="true" hidden="false" summary="false">
          </column>
          <column  name="OLDBH" disabled="false" hidden="true" summary="false">
          </column>
          <column  name="XMLX_EJ" disabled="false" hidden="true" summary="false">
          </column>
        </columns>
      </object>
      <dynOwners>
        <dynOwner  type="1" describe="系统管理员" >
          <expression><![CDATA[
{"name":"DW_XTGLY","parameters":{}}]]></expression>
          </dynOwner>
              </dynOwners>
      <notify >
      </notify>
      <actions>
        <action id="999" name="知会">
          <meta name="NodeType">5</meta>
          <pre-functions>
            <function id="0" name="lb.Assert" type="class">
              <arg name="assert.1">&lt;%@ livebos language='javascript' %&gt;
var status=ABS_SQLVALUE(&quot;select status from ECIF.tib_oawfhandle where upper(lcbd)=upper('lcIB_GS_FXQJJSP') and lcbdid=?&quot;,[O_WORKFLOW.ID]);
status==1</arg>
              <arg name="class.name">com.apex.livebos.workflow.function.AssertFunction</arg>
              <arg name="message.1">&quot;OA审批尚未结束&quot;</arg>
            </function>
            <function id="0" name="lb.WfFormUpdate" type="class">
              <arg name="$F{LCWCRQ}">ABS_SQLVALUE(&quot;SELECT TO_NUMBER(TO_CHAR(SYSDATE,'YYYYMMDD')) FROM DUAL&quot;)</arg>
              <arg name="class.name">com.apex.livebos.workflow.function.WorkFormUpdateFunction</arg>
            </function>
            <function id="0" name="abs.ExecSQL" type="class">
              <arg name="SQL">[&quot;CALL ecif.pro_IB_WFFinish_GS(?,?,'lcIB_GS_FXQJJSP',{0},{1})&quot;,[{&quot;expression&quot;:&quot;O_WORKFLOW.ID&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;},{&quot;expression&quot;:&quot;$Login.User&quot;,&quot;scale&quot;:&quot;&quot;,&quot;length&quot;:&quot;&quot;,&quot;type&quot;:&quot;1&quot;}]]</arg>
              <arg name="class.name">com.apex.workflow.ExecSqlFunction</arg>
              <arg name="datasource">ECIF</arg>
            </function>
          </pre-functions>
          <results>
            <unconditional-result id="52" old-status="完成" status="待处理" step="1">
            </unconditional-result>
          </results>
        </action>
      </actions>
    </step>
  </steps>
</workflow>
